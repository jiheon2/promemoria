# Elasticsearch 클러스터 이름 설정
clusterName: "elasticsearch"

# 전역 설정
global:
  # Kibana 활성화 여부
  kibanaEnabled: false

# 마스터 노드 설정
master:
  # 마스터 노드 복제본 수
  replicaCount: 1
  # 마스터 노드의 힙 크기 (메모리)
  heapSize: 500m
  # 마스터 노드의 리소스 요청 및 제한
  resources:
    requests:
      cpu: 500m  # CPU 요청량
      memory: 2Gi  # 메모리 요청량
    limits:
      cpu: 500m  # CPU 제한량
      memory: 2Gi  # 메모리 제한량
  # 마스터 노드의 영구 저장소 설정
  persistence:
    enabled: true  # 영구 저장소 활성화
    storageClass: "nks-block-storage"  # 사용할 스토리지 클래스
    accessModes:
      - ReadWriteOnce  # 접근 모드
    size: 5Gi  # 저장소 크기
#  # 마스터 노드를 배치할 노드 선택기
#  nodeSelector:
#    role: telemetry

  # 데이터 노드 설정
  # 데이터 노드의 역할:
  # - 실제 데이터를 저장하고 관리
  # - 인덱싱, 검색, 집계 등의 데이터 관련 작업 수행
  # - 클러스터의 주요 워크로드를 처리
  # 주의: 데이터 노드는 클러스터의 성능과 안정성에 직접적인 영향을 미치므로,
  # 리소스 설정과 복제본 수를 신중히 고려해야 함
data:
  # 데이터 노드 복제본 수
  replicaCount: 1
  # 데이터 노드의 힙 크기 (메모리)
  heapSize: 500m
  # 데이터 노드의 리소스 요청 및 제한
  resources:
    requests:
      cpu: 500m
      memory: 2Gi
    limits:
      cpu: 500m
      memory: 2Gi
  # 데이터 노드의 영구 저장소 설정
  persistence:
    enabled: true
    storageClass: "nks-block-storage"
    accessModes:
      - ReadWriteOnce
    size: 10Gi


#  # 코디네이팅 노드 설정
#  # 코디네이팅 노드의 역할:
#  # - 클라이언트 요청을 받아 적절한 데이터 노드로 라우팅
#  # - 검색 결과의 집계 및 정렬 수행
#  # - 클러스터의 부하를 분산시키고 전체적인 성능 향상에 기여
#  # 주의: 코디네이팅 노드는 데이터를 저장하지 않으므로 영구 저장소 설정이 불필요함
coordinating:
  enabled: false         # 코디네이팅 노드 비활성화
  replicaCount: 0        # 복제본 수를 0으로 명시
  heapSize: ""           # 힙 크기를 빈 값으로 명시
  resources:             # 리소스 요청 및 제한을 빈 값으로 명시
    requests:
      cpu: ""
      memory: ""
    limits:
      cpu: ""
      memory: ""

  # 인제스트 노드 설정
  # 인제스트 노드의 역할:
  # - 데이터 인덱싱 전 전처리 작업 수행 (예: 데이터 변환, 보강)
  # - 복잡한 데이터 처리 파이프라인 실행
  # - 데이터 품질 향상 및 일관성 유지에 기여
  # 주의: 인제스트 노드는 대량의 데이터 처리 시 중요한 역할을 하므로,
  # 데이터 처리량에 따라 리소스와 복제본 수를 적절히 조정해야 함
ingest:
  # 인제스트 노드 활성화 여부
  enabled: true
  # 인제스트 노드 복제본 수
  replicaCount: 1
  # 인제스트 노드의 힙 크기 (메모리)
  heapSize: 500m
  # 인제스트 노드의 리소스 요청 및 제한
  resources:
    requests:
      cpu: 500m
      memory: 2Gi
    limits:
      cpu: 500m
      memory: 2Gi
  # 인제스트 노드의 영구 저장소 설정
  persistence:
    enabled: true
    storageClass: "nks-block-storage"
    accessModes:
      - ReadWriteOnce
    size: 5Gi

# 시스템 설정을 위한 이미지 설정
sysctlImage:
  enabled: true
  # vm.max_map_count 값을 설정하는 명령어
  command: ["sysctl", "-w", "vm.max_map_count=262144"]

# 메트릭스 설정
metrics:
  # 메트릭스 수집 활성화
  enabled: false
  serviceMonitor:
    # ServiceMonitor 비활성화 (Prometheus Operator가 없는 경우)
    enabled: false

# 공통 서비스 설정
service:
  type: ClusterIP

# 보안 설정
security:
  # 보안 기능 활성화
  enabled: true
  # Elastic 사용자의 비밀번호
  elasticPassword: "1234"
  tls:
    # TLS 인증서 자동 생성
    autoGenerated: true
    # REST API에 대한 암호화 활성화
    restEncryption: true
